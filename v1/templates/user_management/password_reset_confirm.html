{% load static %}
<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>새 비밀번호 설정 - EazyLabeling</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css">
    <link rel="stylesheet" href="{% static 'css/auth_common.css' %}">
    <style>
        /* auth_common.css로 이관됨 */
        /* 초록 테마 오버라이드 */
        .login-logo-icon { background: #1e8e3e; }
        .g-input:focus { border-color: #1e8e3e; box-shadow: 0 0 0 3px rgba(30,142,62,.12); }
        .g-btn-primary { background: #1e8e3e; }
        .g-btn-primary:hover { background: #187734; box-shadow: 0 1px 3px rgba(30,142,62,.35); }
    </style>
</head>
<body>

    <div class="login-logo">
        <div class="login-logo-icon"><i class="bi bi-shield-lock-fill"></i></div>
        <div class="login-logo-text">EazyLabeling</div>
        <div class="login-logo-sub">새 비밀번호 설정</div>
    </div>

    <div class="login-card">
        <div class="login-card-title">새 비밀번호 설정</div>
        <div class="login-card-desc">새로운 비밀번호를 입력하세요. 8자 이상, 숫자 및 특수문자를 포함해야 합니다.</div>

        {% if messages %}
            {% for message in messages %}
            <div class="g-alert g-alert-{% if message.tags == 'error' %}error{% elif message.tags == 'success' %}success{% else %}info{% endif %}">
                <i class="bi bi-{% if message.tags == 'success' %}check-circle-fill{% else %}exclamation-circle-fill{% endif %}" style="flex-shrink:0;margin-top:1px;"></i>
                <span>{{ message }}</span>
            </div>
            {% endfor %}
        {% endif %}

        <form method="post">
            {% csrf_token %}
            <div class="g-field">
                <label class="g-label" for="password1">새 비밀번호</label>
                <input type="password" id="password1" name="password1" class="g-input"
                       placeholder="새 비밀번호 입력" autocomplete="new-password" required>
                <div class="g-hint">최소 8자 이상, 숫자 및 특수문자를 포함해야 합니다.</div>
            </div>
            <div class="g-field">
                <label class="g-label" for="password2">비밀번호 확인</label>
                <input type="password" id="password2" name="password2" class="g-input"
                       placeholder="비밀번호를 다시 입력하세요" autocomplete="new-password" required>
            </div>
            <button type="submit" class="g-btn-primary">
                <i class="bi bi-shield-check-fill"></i>비밀번호 변경
            </button>
        </form>
    </div>

    <div class="login-footer">
        <a href="{% url 'user_management:login' %}">← 로그인 페이지로 돌아가기</a>
    </div>

</body>
</html>
