{% extends 'base.html' %}

{% block title %}게시판 목록{% endblock %}

{% block content %}
<h2>게시판</h2>
<form method="get" class="mb-3">
    <input type="text" name="q" class="form-control" placeholder="검색어 입력" value="{{ request.GET.q }}">
</form>
<div class="row">
    {% for post in page_obj %}
        <div class="col-md-6 col-lg-4">
            <div class="card">
                <div class="card-body">
                    <h5 class="card-title">{{ post.title }}</h5>
                    <p class="card-text"><strong>식품유형:</strong> {{ post.food_type }}</p>
                    <p class="card-text"><strong>제조사:</strong> {{ post.manufacturer }}</p>
                    <a href="{% url 'label:post_detail' post.id %}" class="btn btn-primary btn-sm">자세히 보기</a>
                </div>
                <div class="card-footer text-muted">
                    등록자: {{ post.author.username }} | 등록일: {{ post.create_date|date:"Y-m-d" }}
                </div>
            </div>
        </div>
    {% endfor %}
</div>
<div class="d-flex justify-content-center mt-4">
    <nav>
        <ul class="pagination">
            {% for page in page_obj.paginator.page_range %}
                <li class="page-item {% if page_obj.number == page %}active{% endif %}">
                    <a class="page-link" href="?page={{ page }}">{{ page }}</a>
                </li>
            {% endfor %}
        </ul>
    </nav>
</div>
<a href="{% url 'label:post_create' %}" class="btn btn-success">새 글 작성</a>
{% endblock %}
