{% extends 'base.html' %}

{% block title %}게시판 목록{% endblock %}

{% block content %}
<h2>게시판</h2>
<form method="get" class="mb-3">
    <input type="text" name="q" class="form-control" placeholder="검색어 입력" value="{{ request.GET.q }}">
</form>
<table class="table table-bordered table-hover">
    <thead class="table-light">
        <tr>
            <th>번호</th>
            <th>제품명</th>
            <th>식품유형</th>
            <th>제조사</th>
            <th>등록자</th>
            <th>등록일</th>
        </tr>
    </thead>
    <tbody>
        {% for post in page_obj %}
        <tr style="cursor: pointer;" onclick="location.href='{% url 'label:post_detail' post.id %}'">
            <td>{{ forloop.counter }}</td>
            <td>{{ post.title }}</td>
            <td>{{ post.food_type }}</td>
            <td>{{ post.manufacturer }}</td>
            <td>{{ post.author.username }}</td>
            <td>{{ post.create_date|date:"Y-m-d" }}</td>
        </tr>
        {% empty %}
        <tr>
            <td colspan="6" class="text-center">게시물이 없습니다.</td>
        </tr>
        {% endfor %}
    </tbody>
</table>
<div class="d-flex justify-content-center mt-4">
    <nav>
        <ul class="pagination">
            {% for page in page_obj.paginator.page_range %}
                <li class="page-item {% if page_obj.number == page %}active{% endif %}">
                    <a class="page-link" href="?page={{ page }}">{{ page }}</a>
                </li>
            {% endfor %}
        </ul>
    </nav>
</div>
<a href="{% url 'label:post_create' %}" class="btn btn-success">새 글 작성</a>
{% endblock %}